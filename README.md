# プロトレチャート

デイトレード練習ブラウザゲーム

## 概要

プロトレチャートは、実際の株価データを使用したデイトレード練習ゲームです。スマホ対応で、ランキング機能を備え、ログインなしで気軽に遊べます。

## 特徴

- 📱 **スマホ対応**: レスポンシブデザインでスマートフォンでも快適に操作
- 📊 **リアルなチャート**: 実際の日本株5分足データを使用
- 🎮 **簡単操作**: 買い・売り・HOLDの3つの選択肢
- 🏆 **ランキング機能**: 最終資産額で競える
- 🐦 **X共有**: 結果をXでシェア可能
- 💰 **信用取引**: 売り取引も可能

## ゲームの流れ

1. **ユーザー登録**: ユーザーネームとXユーザーネーム（任意）を入力
2. **ゲーム開始**: ランダムな銘柄の5分足チャートが表示
3. **取引実行**: 買い・売り・HOLDを選択して取引
4. **時間進行**: 5分毎にチャートが進み、価格が変動
5. **結果表示**: 最終資産と損益を確認
6. **ランキング登録**: 結果をランキングに登録（任意）

## 技術スタック

### フロントエンド
- **HTML5/CSS3**: レスポンシブデザイン
- **Bootstrap 4.5.x**: UIフレームワーク
- **JavaScript/jQuery**: クライアントサイドロジック
- **Apache ECharts**: チャート描画

### バックエンド
- **PHP**: サーバーサイド処理
- **SQLite**: データベース
- **Python**: 株価データ取得スクリプト

### 外部API
- **YFinance**: 株価データ取得

## インストールとセットアップ

### 必要条件
- PHP 7.4以上
- Python 3.6以上
- SQLite 3

### セットアップ手順

1. **リポジトリのクローン**
   ```bash
   git clone [repository-url]
   cd protorechart
   ```

2. **データベースの初期化**
   ```bash
   php data/init_database.php
   ```

3. **Pythonライブラリのインストール**
   ```bash
   pip install yfinance pandas
   ```

4. **株価データの取得**
   ```bash
   python scripts/yfinance.py
   ```

5. **Webサーバーの起動**
   ```bash
   # PHPビルトインサーバーの場合
   php -S localhost:8000
   ```

6. **ブラウザでアクセス**
   ```
   http://localhost:8000
   ```

## ファイル構成

```
/protorechart/
├── index.php                # トップページ
├── game.php                 # ゲーム画面
├── result.php               # 結果画面
├── ranking.php              # ランキングページ
├── api/
│   ├── get_chart.php        # 銘柄データ取得API
│   ├── save_result.php      # 結果保存API
│   └── get_ranking.php      # ランキング取得API
├── data/
│   ├── company.csv          # 銘柄リスト
│   ├── prices.db            # SQLiteデータベース
│   └── init_database.php    # データベース初期化スクリプト
├── scripts/
│   └── yfinance.py          # 株価取得スクリプト
├── assets/
│   ├── css/
│   │   └── style.css        # スタイルシート
│   ├── js/
│   │   ├── main.js          # メインJavaScript
│   │   ├── chart.js         # チャート制御
│   │   └── echarts.min.js   # EChartsライブラリ
│   └── img/
│       └── crown.png        # 王冠アイコン
└── README.md
```

## ゲームルール

- **初期資金**: 1,000,000円
- **取引単位**: 100株単位
- **取引種類**: 現物買い、信用売り
- **証拠金**: 売り取引時は30%の証拠金が必要
- **時間進行**: 5分足データを1本ずつ表示
- **評価**: 10段階評価（損益率に基づく）

## 評価システム

| 評価 | 損益率 | 説明 |
|------|--------|------|
| 10点 | +15%以上 | 優秀 |
| 9点 | +10%〜+15% | 素晴らしい |
| 8点 | +5%〜+10% | 良い |
| 7点 | +2%〜+5% | まずまず |
| 6点 | 0%〜+2% | 及第点 |
| 5点 | -2%〜0% | やや悪い |
| 4点 | -5%〜-2% | 悪い |
| 3点 | -10%〜-5% | かなり悪い |
| 2点 | -15%〜-10% | 非常に悪い |
| 1点 | -15%以下 | 最悪 |

## ライセンス

このプロジェクトは個人利用を目的としています。

## 開発者

株式投資 しゃばぞう
- X: [@shavadaxyz](https://x.com/shavadaxyz)

## 更新履歴

- v1.0.0 (2024/10/17): 初版リリース
  - 基本ゲーム機能の実装
  - スマホ対応デザイン
  - ランキング機能
  - X共有機能
